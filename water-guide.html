<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Water Guide - Healthy Water & Air</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <script src="assets/cart.js" defer></script>
  <script src="assets/catalog.js" defer></script>
  <script src="assets/includes.js" defer></script>
  <script src="assets/guide-engine.js" defer></script>
  <script src="assets/flows/water.js" defer></script>
</head>
<body>
  <div id="header-placeholder"></div>

  <section class="hero hero-slim">
    <div class="container hero-grid">
      <div>
        <div class="kicker">Water Guide</div>
        <h1>Build a water quality plan that fits your home</h1>
        <p class="lead">Answer a few quick questions to get a layered recommendation and estimated pricing.</p>
      </div>
      <div class="hero-illus-wrap">
        <img class="hero-illus" src="assets/img/illus-water.png" alt="Water quality illustration" />
      </div>
    </div>
  </section>

  <section class="section-bg">
    <div class="container">
      <div id="guide-mount"></div>
    </div>
  </section>

  <div id="footer-placeholder"></div>

  <script>
window.addEventListener("DOMContentLoaded", function(){
      const mountEl = document.getElementById('guide-mount');
      try{
        const flow = (window.HWA_FLOWS||{}).water;
        if (!flow || !window.HWA_GUIDE_ENGINE || !mountEl) {
          if (mountEl) mountEl.innerHTML = '<div class="card pad">Guide failed to load.</div>';
          return;
        }
        window.HWA_GUIDE_ENGINE.mount(mountEl, flow);
      }catch(err){
        if (mountEl) mountEl.innerHTML = '<div class="card pad"><div class="tiny">Guide failed to render.</div><div class="callout danger" style="margin-top:10px;">' + (err && (err.stack||err.message) ? String(err.stack||err.message) : 'Unknown error') + '</div></div>';
      }
    });
</script>
</body>
</html>
